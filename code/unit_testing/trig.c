/*
 * trig.c
 *
 *  This is a fast lookup of a value of sine or cosine
 */
#include "trig.h"

static int sin_vals[404] = {0, 7, 16, 23, 31, 39, 47, 55, 63, 71, 79, 87, 95, 103
, 111, 119, 127, 135, 143, 151, 159, 167, 175, 183, 190, 198, 206, 214
, 222, 230, 237, 245, 253, 261, 268, 276, 284, 291, 299, 307, 314, 322
, 330, 337, 345, 352, 360, 367, 375, 382, 389, 397, 404, 411, 419, 426
, 433, 441, 448, 455, 462, 469, 476, 483, 490, 497, 504, 511, 518, 525
, 532, 539, 546, 552, 559, 566, 572, 579, 586, 592, 599, 605, 612, 618
, 624, 631, 637, 643, 649, 656, 662, 668, 674, 680, 686, 692, 697, 703
, 709, 715, 721, 726, 732, 737, 743, 748, 754, 759, 765, 770, 775, 780
, 785, 791, 796, 801, 806, 810, 815, 820, 825, 830, 834, 839, 843, 848
, 852, 857, 861, 865, 870, 874, 878, 882, 886, 890, 894, 898, 902, 905
, 909, 913, 916, 920, 923, 927, 930, 934, 937, 940, 943, 946, 949, 952
, 955, 958, 961, 963, 966, 969, 971, 974, 976, 979, 981, 983, 985, 987
, 990, 992, 993, 995, 997, 999, 1001, 1002, 1004, 1005, 1007, 1008, 1010, 1011
, 1012, 1013, 1014, 1015, 1016, 1017, 1018, 1019, 1020, 1020, 1021, 1021, 1022, 1022
, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1023, 1022, 1022, 1022
, 1021, 1020, 1020, 1019, 1018, 1017, 1017, 1016, 1015, 1013, 1012, 1011, 1010, 1008
, 1007, 1006, 1004, 1003, 1001, 999, 997, 996, 994, 992, 990, 988, 986, 983
, 981, 979, 976, 974, 972, 969, 966, 964, 961, 958, 955, 953, 950, 947
, 943, 940, 937, 934, 931, 927, 924, 920, 917, 913, 910, 906, 902, 898
, 895, 891, 887, 883, 879, 874, 870, 866, 862, 857, 853, 849, 844, 839
, 835, 830, 826, 821, 816, 811, 806, 801, 796, 791, 786, 781, 776, 771
, 765, 760, 755, 749, 744, 738, 733, 727, 721, 716, 710, 704, 698, 692
, 686, 680, 674, 668, 662, 656, 650, 644, 638, 631, 625, 619, 612, 606
, 599, 593, 586, 580, 573, 567, 560, 553, 546, 540, 533, 526, 519, 512
, 505, 498, 491, 484, 477, 470, 463, 456, 449, 441, 434, 427, 420, 412
, 405, 398, 390, 383, 375, 368, 361, 353, 346, 338, 330, 323, 315, 308
, 300, 292, 285, 277, 269, 262, 254, 246, 238, 230, 223, 215, 207, 199
, 191, 183, 176, 168, 160, 152, 144, 136, 128, 120, 112, 104, 96, 88
, 80, 72, 64, 56, 48, 40, 32, 24, 16, 8, 0, -7};

static int cos_vals[404] = {1024, 1023, 1023, 1023, 1023, 1023, 1022, 1022, 1022, 1021, 1020, 1020
, 1019, 1018, 1017, 1016, 1016, 1014, 1013, 1012, 1011, 1010, 1008, 1007
, 1006, 1004, 1002, 1001, 999, 997, 996, 994, 992, 990, 988, 985
, 983, 981, 979, 976, 974, 971, 969, 966, 964, 961, 958, 955
, 952, 949, 946, 943, 940, 937, 934, 930, 927, 924, 920, 917
, 913, 909, 906, 902, 898, 894, 890, 886, 882, 878, 874, 870
, 866, 861, 857, 853, 848, 844, 839, 835, 830, 825, 820, 816
, 811, 806, 801, 796, 791, 786, 781, 775, 770, 765, 760, 754
, 749, 743, 738, 732, 727, 721, 715, 709, 704, 698, 692, 686
, 680, 674, 668, 662, 656, 650, 644, 637, 631, 625, 618, 612
, 606, 599, 593, 586, 579, 573, 566, 559, 553, 546, 539, 532
, 526, 519, 512, 505, 498, 491, 484, 477, 470, 463, 455, 448
, 441, 434, 427, 419, 412, 405, 397, 390, 382, 375, 368, 360
, 353, 345, 338, 330, 322, 315, 307, 300, 292, 284, 277, 269
, 261, 253, 246, 238, 230, 222, 214, 207, 199, 191, 183, 175
, 167, 159, 151, 144, 136, 128, 120, 112, 104, 96, 88, 80
, 72, 64, 56, 48, 40, 32, 24, 16, 8, 0, -7, -15
, -23, -31, -39, -47, -55, -63, -71, -79, -87, -95, -103, -111
, -119, -127, -135, -143, -150, -158, -166, -174, -182, -190, -198, -206
, -213, -221, -229, -237, -245, -252, -260, -268, -276, -283, -291, -299
, -306, -314, -321, -329, -337, -344, -352, -359, -367, -374, -382, -389
, -396, -404, -411, -418, -426, -433, -440, -447, -455, -462, -469, -476
, -483, -490, -497, -504, -511, -518, -525, -532, -538, -545, -552, -559
, -565, -572, -579, -585, -592, -598, -605, -611, -618, -624, -630, -637
, -643, -649, -655, -661, -667, -673, -679, -685, -691, -697, -703, -709
, -715, -720, -726, -731, -737, -743, -748, -754, -759, -764, -770, -775
, -780, -785, -790, -795, -800, -805, -810, -815, -820, -825, -829, -834
, -839, -843, -848, -852, -857, -861, -865, -869, -874, -878, -882, -886
, -890, -894, -898, -901, -905, -909, -913, -916, -920, -923, -927, -930
, -933, -937, -940, -943, -946, -949, -952, -955, -958, -961, -963, -966
, -969, -971, -974, -976, -978, -981, -983, -985, -987, -989, -991, -993
, -995, -997, -999, -1001, -1002, -1004, -1005, -1007, -1008, -1010, -1011, -1012
, -1013, -1014, -1015, -1016, -1017, -1018, -1019, -1020, -1020, -1021, -1021, -1022
, -1022, -1023, -1023, -1023, -1023, -1023, -1023, -1023};


static int acos_vals[257] = {201, 200, 200, 199, 199, 198, 198, 197, 197, 196, 196, 195, 195, 194, 194, 193, 193, 192
, 192, 191, 191, 190, 190, 189, 189, 188, 188, 187, 187, 186, 186, 185, 185, 184, 184, 183
, 183, 182, 181, 181, 180, 180, 179, 179, 178, 178, 177, 177, 176, 176, 175, 175, 174, 174
, 173, 173, 172, 172, 171, 171, 170, 170, 169, 169, 168, 168, 167, 167, 166, 166, 165, 165
, 164, 164, 163, 163, 162, 161, 161, 160, 160, 159, 159, 158, 158, 157, 157, 156, 156, 155
, 155, 154, 154, 153, 152, 152, 151, 151, 150, 150, 149, 149, 148, 148, 147, 146, 146, 145
, 145, 144, 144, 143, 143, 142, 141, 141, 140, 140, 139, 139, 138, 138, 137, 136, 136, 135
, 135, 134, 134, 133, 132, 132, 131, 131, 130, 129, 129, 128, 128, 127, 126, 126, 125, 125
, 124, 123, 123, 122, 122, 121, 120, 120, 119, 119, 118, 117, 117, 116, 115, 115, 114, 114
, 113, 112, 112, 111, 110, 110, 109, 108, 108, 107, 106, 106, 105, 104, 104, 103, 102, 101
, 101, 100, 99, 99, 98, 97, 96, 96, 95, 94, 94, 93, 92, 91, 90, 90, 89, 88
, 87, 87, 86, 85, 84, 83, 83, 82, 81, 80, 79, 78, 77, 77, 76, 75, 74, 73
, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 55, 54
, 53, 52, 50, 49, 48, 46, 45, 44, 42, 40, 39, 37, 35, 34, 32, 30, 27, 25
, 22, 19, 16, 11, 0};

/***************************************************************************//**
 * @brief
 *   cos_int
 *   This function makes cosine a int to int function to increase speed
 *
 * @param  theta
 * 	This is the angle in radians * 128
 *
 ******************************************************************************/
int cos_int(int theta){
	if(theta <0){
		theta *= -1;
	}
	if(theta > 403){
		while(1);
	}
	return cos_vals[theta];
}

/***************************************************************************//**
 * @brief
 *   acos_int
 *   This function makes arc cosine an int to int function to increase speed
 *
 * @param  ratio
 * 	This is the cosine ratio multiplied by 256
 *
 ******************************************************************************/
int acos_int(int ratio){
	if(ratio <0){
		ratio *= -1;
	}
	if(ratio > 256){
		while(1);
	}
	return acos_vals[ratio];
}
/***************************************************************************//**
 * @brief
 *   sin_int
 *   This function makes cosine a int to int function to increase speed
 *
 * @param  theta
 * 	This is the angle in radians * 128
 *
 ******************************************************************************/
int sin_int(int theta){
	int scale = 1;
	if(theta <0){
		theta *= -1;
		scale *= -1;
	}
	if(theta > 403){
		while(1);
	}
	return scale*sin_vals[theta];
}
